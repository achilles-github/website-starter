(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(e){function t(){var t=this;t.top="auto";t.left="auto";t.right="auto";t.bottom="auto";t.set=function(n,r){if(e.isNumeric(r)){t[n]=Math.round(r)}}}function n(e,t,n){function r(r,i){o();if(!e.data(m)){if(!r){N.tipOpenImminent=true;a=setTimeout(function(){a=null;s()},t.intentPollInterval)}else{if(i){e.data(g,true)}n.showTip(e)}}}function i(r){o();N.tipOpenImminent=false;if(e.data(m)){e.data(g,false);if(!r){N.delayInProgress=true;a=setTimeout(function(){a=null;n.hideTip(e);N.delayInProgress=false},t.closeDelay)}else{n.hideTip(e)}}}function s(){var i=Math.abs(N.previousX-N.currentX),s=Math.abs(N.previousY-N.currentY),o=i+s;if(o<t.intentSensitivity){n.showTip(e)}else{N.previousX=N.currentX;N.previousY=N.currentY;r()}}function o(){a=clearTimeout(a);N.delayInProgress=false}function u(){n.resetPosition(e)}var a=null;this.show=r;this.hide=i;this.cancel=o;this.resetPosition=u}function r(){function e(e,i,o,u,a){var f=i.split("-")[0],l=new t,c;if(s(e)){c=r(e,f)}else{c=n(e,f)}switch(i){case"n":l.set("left",c.left-o/2);l.set("bottom",N.windowHeight-c.top+a);break;case"e":l.set("left",c.left+a);l.set("top",c.top-u/2);break;case"s":l.set("left",c.left-o/2);l.set("top",c.top+a);break;case"w":l.set("top",c.top-u/2);l.set("right",N.windowWidth-c.left+a);break;case"nw":l.set("bottom",N.windowHeight-c.top+a);l.set("right",N.windowWidth-c.left-20);break;case"nw-alt":l.set("left",c.left);l.set("bottom",N.windowHeight-c.top+a);break;case"ne":l.set("left",c.left-20);l.set("bottom",N.windowHeight-c.top+a);break;case"ne-alt":l.set("bottom",N.windowHeight-c.top+a);l.set("right",N.windowWidth-c.left);break;case"sw":l.set("top",c.top+a);l.set("right",N.windowWidth-c.left-20);break;case"sw-alt":l.set("left",c.left);l.set("top",c.top+a);break;case"se":l.set("left",c.left-20);l.set("top",c.top+a);break;case"se-alt":l.set("top",c.top+a);l.set("right",N.windowWidth-c.left);break}return l}function n(e,t){var n=e.offset(),r=e.outerWidth(),i=e.outerHeight(),s,o;switch(t){case"n":s=n.left+r/2;o=n.top;break;case"e":s=n.left+r;o=n.top+i/2;break;case"s":s=n.left+r/2;o=n.top+i;break;case"w":s=n.left;o=n.top+i/2;break;case"nw":s=n.left;o=n.top;break;case"ne":s=n.left+r;o=n.top;break;case"sw":s=n.left;o=n.top+i;break;case"se":s=n.left+r;o=n.top+i;break}return{top:o,left:s}}function r(e,t){function n(){l.push(s.matrixTransform(u))}var r=e.closest("svg")[0],i=e[0],s=r.createSVGPoint(),o=i.getBBox(),u=i.getScreenCTM(),a=o.width/2,f=o.height/2,l=[],c=["nw","n","ne","e","se","s","sw","w"],h,p,d,v;s.x=o.x;s.y=o.y;n();s.x+=a;n();s.x+=a;n();s.y+=f;n();s.y+=f;n();s.x-=a;n();s.x-=a;n();s.y-=f;n();if(l[0].y!==l[1].y||l[0].x!==l[7].x){p=Math.atan2(u.b,u.a)*T;d=Math.ceil((p%360-22.5)/45);if(d<1){d+=8}while(d--){c.push(c.shift())}}for(v=0;v<l.length;v++){if(c[v]===t){h=l[v];break}}return{top:h.y+N.scrollTop,left:h.x+N.scrollLeft}}this.compute=e}function i(n){function i(e){e.data(m,true);T.queue(function(t){s(e);t()})}function s(e){var t;if(!e.data(m)){return}if(N.isTipOpen){if(!N.isClosing){o(N.activeHover)}T.delay(100).queue(function(t){s(e);t()});return}e.trigger("tooltipPreRender");t=f(e);if(t){T.empty().append(t)}else{return}e.trigger("tooltipRender");N.activeHover=e;N.isTipOpen=true;T.data(b,n.mouseOnDiv);if(!n.followMouse){w(e);N.isFixedTipOpen=true}else{u()}T.fadeIn(n.fadeInTime,function(){if(!N.desyncTimeout){N.desyncTimeout=setInterval(S,500)}e.trigger("tooltipOpen")})}function o(e){N.isClosing=true;N.activeHover=null;N.isTipOpen=false;N.desyncTimeout=clearInterval(N.desyncTimeout);e.data(m,false);e.data(g,false);T.fadeOut(n.fadeOutTime,function(){var r=new t;N.isClosing=false;N.isFixedTipOpen=false;T.removeClass();r.set("top",N.currentY+n.offset);r.set("left",N.currentX+n.offset);T.css(r);e.trigger("tooltipClose")})}function u(){if(!N.isFixedTipOpen&&(N.isTipOpen||N.tipOpenImminent&&T.data(y))){var e=T.outerWidth(),r=T.outerHeight(),i=new t,s,o;i.set("top",N.currentY+n.offset);i.set("left",N.currentX+n.offset);s=l(i,e,r);if(s!==C.none){o=c(s);if(o===1){if(s===C.right){i.set("left",N.windowWidth-e)}else if(s===C.bottom){i.set("top",N.scrollTop+N.windowHeight-r)}}else{i.set("left",N.currentX-e-n.offset);i.set("top",N.currentY-r-n.offset)}}T.css(i)}}function w(t){var r,i;if(n.smartPlacement){r=e.fn.tooltip.smartPlacementLists[n.placement];e.each(r,function(e,n){var r=l(E(t,n),T.outerWidth(),T.outerHeight());i=n;if(r===C.none){return false}})}else{E(t,n.placement);i=n.placement}T.addClass(i);T.addClass(n.customClass)}function E(e,r){var i=0,s,o,u=new t;u.set("top",0);u.set("left",0);T.css(u);do{s=T.outerWidth();o=T.outerHeight();u=x.compute(e,r,s,o,n.offset);T.css(u)}while(++i<=5&&(s!==T.outerWidth()||o!==T.outerHeight()));return u}function S(){var e=false;if(N.isTipOpen&&!N.isClosing&&!N.delayInProgress){if(N.activeHover.data(m)===false||N.activeHover.is(":disabled")){e=true}else{if(!a(N.activeHover)&&!N.activeHover.is(":focus")&&!N.activeHover.data(g)){if(T.data(b)){if(!a(T)){e=true}}else{e=true}}}if(e){o(N.activeHover)}}}var x=new r,T=e("#"+n.popupId);if(T.length===0){T=e("<div/>",{id:n.popupId}).addClass(n.customClass);if(d.length===0){d=e("body")}d.append(T)}if(n.followMouse){if(!T.data(y)){h.on("mousemove",u);p.on("scroll",u);T.data(y,true)}}if(n.mouseOnDiv){T.on({mouseenter:function(){if(T.data(b)){if(N.activeHover){N.activeHover.data(v).cancel()}}},mouseleave:function(){if(N.activeHover){N.activeHover.data(v).hide()}}})}this.showTip=i;this.hideTip=o;this.resetPosition=w}function s(e){return window.SVGElement&&e[0]instanceof SVGElement}function o(){if(!N.mouseTrackingActive){N.mouseTrackingActive=true;e(function(){N.scrollLeft=p.scrollLeft();N.scrollTop=p.scrollTop();N.windowWidth=p.width();N.windowHeight=p.height()});h.on("mousemove",u);p.on({resize:function(){N.windowWidth=p.width();N.windowHeight=p.height()},scroll:function(){var e=p.scrollLeft(),t=p.scrollTop();if(e!==N.scrollLeft){N.currentX+=e-N.scrollLeft;N.scrollLeft=e}if(t!==N.scrollTop){N.currentY+=t-N.scrollTop;N.scrollTop=t}}})}}function u(e){N.currentX=e.pageX;N.currentY=e.pageY}function a(e){var t=e.offset(),n=e[0].getBoundingClientRect(),r=n.right-n.left,i=n.bottom-n.top;return N.currentX>=t.left&&N.currentX<=t.left+r&&N.currentY>=t.top&&N.currentY<=t.top+i}function f(t){var n=t.data(E),r=t.data(S),i=t.data(x),s,o;console.log(n);if(n===undefined){n=t.attr(E)}if(n){if(e.isFunction(n)){n=n.call(t[0])}o=n}else if(r){if(e.isFunction(r)){r=r.call(t[0])}if(r.length>0){o=r.clone(true,true)}}else if(i){s=e("#"+i);if(s.length>0){o=s.html()}}return o}function l(e,t,n){var r=N.scrollTop,i=N.scrollLeft,s=r+N.windowHeight,o=i+N.windowWidth,u=C.none;if(e.top<r||Math.abs(e.bottom-N.windowHeight)-n<r){u|=C.top}if(e.top+n>s||Math.abs(e.bottom-N.windowHeight)>s){u|=C.bottom}if(e.left<i||e.right+t>o){u|=C.left}if(e.left+t>o||e.right<i){u|=C.right}return u}function c(e){var t=0;while(e){e&=e-1;t++}return t}var h=e(document),p=e(window),d=e("body");var v="displayController",m="hasActiveHover",g="forcedOpen",y="hasMouseMove",b="mouseOnDiv",w="originalTitle",E="tooltip",S="tooltipjq",x="tooltiptarget",T=180/Math.PI;var N={isTipOpen:false,isFixedTipOpen:false,isClosing:false,tipOpenImminent:false,activeHover:null,currentX:0,currentY:0,previousX:0,previousY:0,desyncTimeout:null,mouseTrackingActive:false,delayInProgress:false,windowWidth:0,windowHeight:0,scrollTop:0,scrollLeft:0};var C={none:0,top:1,bottom:2,left:4,right:8};e.fn.tooltip=function(t,r){if(!this.length){return this}if(e.type(t)==="string"&&e.tooltip[t]){return e.tooltip[t].call(this,this,r)}var s=e.extend({},e.fn.tooltip.defaults,t),u=new i(s);o();this.each(function(){var t=e(this),r=t.data(E),i=t.data(S),o=t.data(x),a;if(t.data(v)){e.tooltip.destroy(t)}a=t.attr("title");if(!r&&!o&&!i&&a){t.data(E,a);t.data(w,a);t.removeAttr("title")}t.data(v,new n(t,s,u))});if(!s.manual){this.on({"mouseenter.tooltip":function(t){e.tooltip.show(this,t)},"mouseleave.tooltip":function(){e.tooltip.hide(this)},"focus.tooltip":function(){e.tooltip.show(this)},"blur.tooltip":function(){e.tooltip.hide(this,true)},"keydown.tooltip":function(t){if(t.keyCode===27){e.tooltip.hide(this,true)}}})}return this};e.fn.tooltip.defaults={fadeInTime:150,fadeOutTime:150,followMouse:false,popupId:"tooltip",customClass:"",intentSensitivity:3,intentPollInterval:10,closeDelay:9,placement:"n",smartPlacement:true,offset:8,mouseOnDiv:false,manual:false};e.fn.tooltip.smartPlacementLists={n:["n","ne","nw","s"],e:["e","ne","se","w","nw","sw","n","s","e"],s:["s","se","sw","n"],w:["w","nw","sw","e","ne","se","n","s","w"],nw:["nw","w","sw","n","s","se","nw"],ne:["ne","e","se","n","s","sw","ne"],sw:["sw","w","nw","s","n","ne","sw"],se:["se","e","ne","s","n","nw","se"],"nw-alt":["nw-alt","n","ne-alt","sw-alt","s","se-alt","w","e"],"ne-alt":["ne-alt","n","nw-alt","se-alt","s","sw-alt","e","w"],"sw-alt":["sw-alt","s","se-alt","nw-alt","n","ne-alt","w","e"],"se-alt":["se-alt","s","sw-alt","ne-alt","n","nw-alt","e","w"]};e.tooltip={show:function(t,n){if(n){u(n);N.previousX=n.pageX;N.previousY=n.pageY;e(t).data(v).show()}else{e(t).first().data(v).show(true,true)}return t},reposition:function(t){e(t).first().data(v).resetPosition();return t},hide:function(t,n){if(t){e(t).first().data(v).hide(n)}else{if(N.activeHover){N.activeHover.data(v).hide(true)}}return t},destroy:function(t){e(t).off(".tooltip").each(function(){var t=e(this),n=[w,v,m,g];if(t.data(w)){t.attr("title",t.data(w));n.push(E)}t.removeData(n)});return t}};e.tooltip.showTip=e.tooltip.show;e.tooltip.closeTip=e.tooltip.hide});$(function(){$(".tooltip-top").tooltip({placement:"n"});$(".tooltip-right").tooltip({placement:"e"});$(".tooltip-bottom").tooltip({placement:"s"});$(".tooltip-left").tooltip({placement:"w"});$(".tooltip-top-left").tooltip({placement:"nw-alt"});$(".tooltip-top-right").tooltip({placement:"ne-alt"});$(".tooltip-bottom-left").tooltip({placement:"sw-alt"});$(".tooltip-bottom-right").tooltip({placement:"se-alt"});$(".tooltip-outer-top-left").tooltip({placement:"nw"});$(".tooltip-outer-top-right").tooltip({placement:"ne"});$(".tooltip-outer-bottom-left").tooltip({placement:"se"});$(".tooltip-outer-bottom-right").tooltip({placement:"sw"});$(".tooltip-follow").tooltip({followMouse:true});$(".tooltip-popup").each(function(){var e=$(this),t=$(this).children("span").html();console.log(t);$(this).children("span").remove();$(this).attr("tooltip",t);e.tooltip({customClass:"tooltip-popup",placement:"s",mouseOnDiv:true,intentSensitivity:10,intentPollInterval:10,smartPlacement:false,closeDelay:200,offset:4})})})